# OPFS Explorer 使用指南

## 快速开始

### 1. 加载插件

1. 打开 Chrome 或 Edge 浏览器
2. 访问 `chrome://extensions/` 或 `edge://extensions/`
3. 启用"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择 `packages/opfs-explorer/dist` 目录

### 2. 打开 DevTools 面板

1. 在任意网页上按 `F12` 打开开发者工具
2. 在 DevTools 面板中找到 **"OPFS Explorer"** 标签页
3. 点击该标签页即可使用

## 主要功能

### 📁 文件管理

- **浏览文件**: 左侧文件树显示 OPFS 中的所有文件和文件夹
- **创建文件**: 点击"新建"按钮或右键菜单创建文件/文件夹
- **删除文件**: 右键点击文件选择删除操作
- **刷新文件树**: 点击刷新按钮或按 F5

### ✏️ 代码编辑

- **语法高亮**: 支持多种编程语言的语法高亮
- **自动保存**: 编辑内容会在 300ms 后自动保存
- **文件信息**: 显示文件大小和语言类型
- **Monaco Editor**: 基于 VS Code 的强大编辑器

### 🔧 高级功能

- **OPFS 集成**: 完全基于浏览器原生 OPFS API
- **实时同步**: 文件修改实时同步到 OPFS
- **存储管理**: 查看 OPFS 存储使用情况
- **错误处理**: 完善的错误提示和处理

## 操作指南

### 文件操作

1. **创建文件**:

   - 点击文件树顶部的"新建"按钮
   - 选择"新建文件"或"新建文件夹"
   - 输入名称并确认

2. **编辑文件**:

   - 在文件树中点击文件
   - 文件内容将在右侧编辑器中打开
   - 编辑内容会自动保存

3. **删除文件**:
   - 右键点击文件或文件夹
   - 选择"删除"操作
   - 确认删除

### 快捷键

- `F5`: 刷新文件树
- `Ctrl+R`: 刷新文件树
- `Ctrl+S`: 保存文件（自动保存已启用）

## 支持的浏览器

- ✅ Chrome 86+
- ✅ Edge 86+
- ❌ Firefox (不支持 OPFS)
- ❌ Safari (不支持 OPFS)

## 故障排除

### 插件无法加载

- 确保浏览器版本支持 OPFS
- 检查控制台是否有错误信息
- 尝试重新构建插件

### OPFS 不可用

- 确保在 HTTPS 环境下使用（localhost 除外）
- 检查浏览器是否支持 OPFS API
- 查看浏览器控制台的错误信息

### 文件操作失败

- 检查文件权限
- 确保文件路径正确
- 查看控制台错误信息

## 开发模式

### 调试插件

1. 在插件管理页面点击"检查视图"
2. 使用浏览器开发者工具调试
3. 查看控制台日志

### 重新加载插件

1. 重新构建插件：`npm run build`
2. 在插件管理页面点击刷新按钮
3. 或者重新加载插件

---

如有问题，请查看 README.md 或提交 Issue。


